{"version":3,"sources":["common.js","item.js","transaction.js","report.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var commonModule = (function() {\n\n    var datatableBaseURL = 'http://dn7store.app/datatable/';\n\n    var select2BaseURL = '/select2/';\n\n    /* Auto Log Out Setelah Sekian Detik */\n    var autoLogOut = function() {\n        var delay = 1000; // 10 menit (10 * 60 detik * 1000 untuk miliseconds)\n        window.setTimeout(function() {\n            window.location.href = '/logout';\n        }, delay);\n    };\n\n    return {\n        autoLogOut: autoLogOut,\n        datatableBaseURL: datatableBaseURL,\n        select2BaseURL: select2BaseURL\n    };\n\n    autoLogOut();\n\n})();","var itemModule = (function(commonModule) {\n\n    var datatableBaseURL = commonModule.datatableBaseURL + 'items';\n    var select2BaseURLItem = commonModule.select2BaseURL + 'items';\n\n\n    var existing_model = null;\n\n    var init = function() {\n        _applyDatatable();\n        _switchModel();\n        _applyThousandSeperator();\n    };\n\n    var _applyThousandSeperator = function() {\n        $(\"input.number\").each(function() {\n            var input_name = $(this).data('input');\n\n            $(this).autoNumeric('init', {\n                aSep: ',',\n                aDec: '.',\n                aSign: 'Rp ',\n                mDec: '0'\n            });\n\n            $(this).on('change keyup', function() {\n                var value = $(this).val().replace('Rp ', '');\n                $(\"input[name='\" + input_name + \"']\").val(value);\n            });\n        });\n    };\n\n\n    var _applySelect2Model = function() {\n\n        $('select.item_ajax').select2({\n            minimumInputLength: 2,\n            placeholder: \"Search existing item\",\n            ajax: {\n                url: select2BaseURLItem,\n                dataType: \"json\",\n                type: \"POST\",\n                data: function(params) {\n                    var queryParameters = {\n                        term: params.term\n                    };\n                    return queryParameters;\n                },\n                processResults: function(data) {\n                    return {\n                        results: $.map(data, function(item) {\n                            return {\n                                text: item.model,\n                                id: item.model\n                            };\n                        })\n                    };\n                }\n            }\n        });\n    };\n\n    var _switchModel = function() {\n        $('#switch_model').on('click', function() {\n            var model_input = $('#model_input');\n            var switch_model_button = $(this);\n\n            if (existing_model == null) {\n                existing_model = $(\"input#model\").val();\n            }\n\n            if (switch_model_button.html() == '<i class=\"fa fa-search fa-fw\"></i> Search') {\n                model_input.html('<select name=\"model\" class=\"item_ajax form-control\"></select>');\n                _applySelect2Model();\n                switch_model_button.html('<i class=\"fa fa-keyboard-o fa-fw\"></i> Type');\n            } else {\n                model_input.html('<input type=\"text\" id=\"model\" placeholder=\"Enter your new item\" class=\"form-control\" value=\"' + existing_model + '\" name=\"model\">');\n                switch_model_button.html('<i class=\"fa fa-search fa-fw\"></i> Search');\n            }\n        });\n    };\n\n    var _applyDatatable = function() {\n        /* Tambah Input Field di TFOOT */\n        $('#datatable tfoot th').each(function() {\n            var title = $(this).text();\n            if (title != '') {\n                $(this).html('<input type=\"text\" class=\"form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n            if (title == 'Created Date' || title == 'Updated Date') {\n                $(this).html('<input type=\"text\" class=\"datepicker form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n        });\n\n        var table = $('#datatable').DataTable({\n            processing: true,\n            serverSide: true,\n            ajax: {\n                \"url\": datatableBaseURL,\n                \"type\": \"POST\"\n            },\n            language: {\n                \"decimal\": \",\",\n                \"thousands\": \".\"\n            },\n            columns: [{\n                data: 'model',\n                name: 'items.model'\n            }, {\n                data: 'size',\n                name: 'items.size'\n            }, {\n                data: 'color',\n                name: 'items.color'\n            }, {\n                data: 'stok',\n                name: 'items.stok'\n            }, {\n                data: 'normal_price',\n                name: 'items.normal_price'\n            }, {\n                data: 'reseller_price',\n                name: 'items.reseller_price'\n            }, {\n                data: 'action',\n                name: 'action',\n                orderable: false,\n                searchable: false\n            }]\n        });\n\n        /* Ketika Value pada Input di TFOOT berubah, Maka Search Sesuai Kolom */\n        table.columns().every(function() {\n            var that = this;\n            $('input', this.footer()).on('keyup change', function() {\n\n                var keyword = this.value;\n\n                if (this.placeholder == 'Search Model' || this.placeholder == 'Search Brand') {\n                    keyword = keyword.toUpperCase();\n                }\n\n                if (that.search() !== keyword) {\n                    that\n                        .search(keyword)\n                        .draw();\n                }\n            });\n        });\n\n    };\n\n    return {\n        init: init\n    };\n\n})(commonModule);","var transactionModule = (function(commonModule) {\n\n    var datatableBaseURL = commonModule.datatableBaseURL + 'transactions';\n    var select2BaseURLItem = commonModule.select2BaseURL + 'items';\n\n\n    var init = function() {\n        _applyDatatable();\n        _applyDatepicker();\n        _applySelect2Product();\n        _submit();\n        _disableNumberInputScroll();\n        _printTransaction();\n    };\n\n    var _disableNumberInputScroll = function() {\n        $('form').on('focus', 'input[type=number]', function(e) {\n            $(this).on('mousewheel.disableScroll', function(e) {\n                e.preventDefault();\n            });\n        });\n        $('form').on('blur', 'input[type=number]', function(e) {\n            $(this).off('mousewheel.disableScroll');\n        });\n    };\n\n    var _saveItem = function() {\n        $(\"#saveItem\").on(\"click\", function() {\n            console.log($(\"#supplier_return_detail\").serialize());\n        });\n    };\n\n    var addItem = function() {\n        var item_table = $(\"table#item_table\");\n        var template_row = $(\"#new_row\").find('tbody');\n        var new_row = template_row.clone();\n        new_row.find('select').addClass('product_ajax');\n        new_row = new_row.html();\n        item_table.find('tbody').append(new_row);\n        _applySelect2Product();\n    };\n\n    var removeItem = function(me) {\n        me.closest('tr').remove();\n    };\n\n    var _submit = function() {\n\n    };\n\n    var _applyDatepicker = function() {\n        $('.datepicker').datepicker({\n            weekStart: 1,\n            todayHighlight: true,\n            clearBtn: true,\n            format: 'yyyy-mm-dd',\n            autoclose: true\n        });\n    };\n\n    var _applySelect2Product = function() {\n\n        $('select.product_ajax').select2({\n            minimumInputLength: 2,\n            ajax: {\n                url: select2BaseURLItem,\n                dataType: \"json\",\n                type: \"POST\",\n                data: function(params) {\n                    /* Based on supplier selection TODO*/\n                    var item_id = $(\"#item_id option:selected\").val();\n\n                    var queryParameters = {\n                        term: params.term,\n                        item_id: item_id\n                    };\n                    return queryParameters;\n                },\n                processResults: function(data) {\n                    return {\n                        results: $.map(data, function(item) {\n                            return {\n                                text: item.model + ' - ' + item.size + ' ' + item.color,\n                                id: item.id\n                            };\n                        })\n                    };\n                }\n            }\n\n        });\n    };\n\n\n\n    var _applyDatatable = function() {\n        /* Tambah Input Field di TFOOT */\n        $('#datatable tfoot th').each(function() {\n            var title = $(this).text();\n            if (title !== '') {\n                $(this).html('<input type=\"text\" class=\"form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n            if (title == 'Created at') {\n                $(this).html('<input type=\"text\" class=\"datepicker form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n        });\n\n        var table = $('#datatable').DataTable({\n            processing: true,\n            serverSide: true,\n            ajax: {\n                \"url\": datatableBaseURL,\n                \"type\": \"POST\"\n            },\n            language: {\n                \"decimal\": \",\",\n                \"thousands\": \".\"\n            },\n            columns: [{\n                data: 'check',\n                name: 'check',\n                orderable: false,\n                searchable: false\n            }, {\n                data: 'name',\n                name: 'name'\n            }, {\n                data: 'address',\n                name: 'address'\n            }, {\n                data: 'source',\n                name: 'source'\n            }, {\n                data: 'total',\n                name: 'total'\n            }, {\n                data: 'created_at',\n                name: 'created_at'\n            }, {\n                data: 'action',\n                name: 'action',\n                orderable: false,\n                searchable: false\n            }]\n        });\n\n        /* Ketika Value pada Input di TFOOT berubah, Maka Search Sesuai Kolom */\n        table.columns().every(function() {\n            var that = this;\n            $('input', this.footer()).on('keyup change', function() {\n                var keyword = this.value;\n\n                if (this.placeholder == 'Search Code' || this.placeholder == 'Search Supplier') {\n                    keyword = keyword.toUpperCase();\n                }\n\n                if (this.placeholder == 'Search Status') {\n                    keyword = keyword.replace(\" \", \"_\").toLowerCase();\n                }\n\n                if (that.search() !== keyword) {\n                    that\n                        .search(keyword)\n                        .draw();\n                }\n            });\n        });\n\n    };\n\n    var _printTransaction = function() {\n        $(\"button#printTransaction\").on('click', function() {\n            var query = $('form#print input[name=\"selected_transactions[]\"]').serialize();\n            window.location = '/transaction/print?' + query;\n            // $.ajax({\n            //     method: \"POST\",\n            //     url: \"/transaction/print\",\n            //     data: $('form#print').serialize(),\n            //     dataType: 'json'\n            // }).done(function(response) {\n            //     if (response.status == 1) {\n            //         swal({\n            //             title: \"Good!\",\n            //             text: response.message,\n            //             type: \"success\",\n            //             timer: 3000\n            //         }, function() {\n            //             window.location = \"/transaction\";\n            //         });\n            //     } else {\n            //         swal({\n            //             title: \"Oops!\",\n            //             text: response.message,\n            //             type: \"error\",\n            //             timer: 3000\n            //         });\n            //     }\n            // });\n\n        });\n\n    };\n\n    return {\n        init: init,\n        addItem: addItem,\n        removeItem: removeItem\n    };\n\n})(commonModule);","var reportModule = (function(commonModule) {\n\n    var datatableBaseURL = commonModule.datatableBaseURL + 'report';\n    var select2BaseURLItem = commonModule.select2BaseURL + 'items';\n\n\n    var init = function() {\n        _applyDatatable();\n        _applyDatepicker();\n        _applySelect2Product();\n        _submit();\n        _disableNumberInputScroll();\n\n    };\n\n    var _disableNumberInputScroll = function() {\n        $('form').on('focus', 'input[type=number]', function(e) {\n            $(this).on('mousewheel.disableScroll', function(e) {\n                e.preventDefault();\n            });\n        });\n        $('form').on('blur', 'input[type=number]', function(e) {\n            $(this).off('mousewheel.disableScroll');\n        });\n    };\n\n    var _saveItem = function() {\n        $(\"#saveItem\").on(\"click\", function() {\n            console.log($(\"#supplier_return_detail\").serialize());\n        });\n    };\n\n    var addItem = function() {\n        var item_table = $(\"table#item_table\");\n        var template_row = $(\"#new_row\").find('tbody');\n        var new_row = template_row.clone();\n        new_row.find('select').addClass('product_ajax');\n        new_row = new_row.html();\n        item_table.find('tbody').append(new_row);\n        _applySelect2Product();\n    };\n\n    var removeItem = function(me) {\n        me.closest('tr').remove();\n    };\n\n    var _submit = function() {\n\n    };\n\n    var _applyDatepicker = function() {\n        $('.datepicker').datepicker({\n            weekStart: 1,\n            todayHighlight: true,\n            clearBtn: true,\n            format: 'yyyy-mm-dd',\n            autoclose: true\n        });\n    };\n\n    var _applySelect2Product = function() {\n\n        $('select.product_ajax').select2({\n            minimumInputLength: 2,\n            ajax: {\n                url: select2BaseURLItem,\n                dataType: \"json\",\n                type: \"POST\",\n                data: function(params) {\n                    /* Based on supplier selection TODO*/\n                    var item_id = $(\"#item_id option:selected\").val();\n\n                    var queryParameters = {\n                        term: params.term,\n                        item_id: item_id\n                    };\n                    return queryParameters;\n                },\n                processResults: function(data) {\n                    return {\n                        results: $.map(data, function(item) {\n                            return {\n                                text: item.model + ' - ' + item.size + ' ' + item.color,\n                                id: item.id\n                            };\n                        })\n                    };\n                }\n            }\n\n        });\n    };\n\n\n\n    var _applyDatatable = function() {\n        /* Tambah Input Field di TFOOT */\n        $('#datatable tfoot th').each(function() {\n            var title = $(this).text();\n            if (title !== '') {\n                $(this).html('<input type=\"text\" class=\"form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n            if (title == 'Created at') {\n                $(this).html('<input type=\"text\" class=\"datepicker form-control\" placeholder=\"Search ' + title + '\" style=\"width: 100%;\" />');\n            }\n        });\n\n        var table = $('#datatable').DataTable({\n            processing: true,\n            serverSide: true,\n            ajax: {\n                \"url\": datatableBaseURL,\n                \"type\": \"POST\"\n            },\n            language: {\n                \"decimal\": \",\",\n                \"thousands\": \".\"\n            },\n            columns: [{\n                data: 'name',\n                name: 'name'\n            }, {\n                data: 'address',\n                name: 'address'\n            }, {\n                data: 'source',\n                name: 'source'\n            }, {\n                data: 'total',\n                name: 'total'\n            }, {\n                data: 'created_at',\n                name: 'created_at'\n            }, {\n                data: 'action',\n                name: 'action',\n                orderable: false,\n                searchable: false\n            }]\n        });\n\n        /* Ketika Value pada Input di TFOOT berubah, Maka Search Sesuai Kolom */\n        table.columns().every(function() {\n            var that = this;\n            $('input', this.footer()).on('keyup change', function() {\n                var keyword = this.value;\n\n                if (this.placeholder == 'Search Code' || this.placeholder == 'Search Supplier') {\n                    keyword = keyword.toUpperCase();\n                }\n\n                if (this.placeholder == 'Search Status') {\n                    keyword = keyword.replace(\" \", \"_\").toLowerCase();\n                }\n\n                if (that.search() !== keyword) {\n                    that\n                        .search(keyword)\n                        .draw();\n                }\n            });\n        });\n\n    };\n\n    return {\n        init: init,\n        addItem: addItem,\n        removeItem: removeItem\n    };\n\n})(commonModule);"],"sourceRoot":"/source/"}